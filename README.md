# Лабораторная работа №0  
## Курс: Функциональное программирование  
### Вариант: Clojure  

---

## 1. Выбор языка

Для выполнения лабораторных работ выбран язык **Clojure** — современный диалект Lisp, работающий на платформе JVM.  

---

## 2. Обоснование выбора

1. **Функциональная парадигма**  
   Clojure основан на неизменяемых структурах данных и чистых функциях, что идеально соответствует целям курса.  

2. **Параллельное программирование**  
   В языке встроены средства для работы с многопоточностью (atoms, refs, agents), что делает его практичным для задач обработки данных.  

3. **Lisp-наследие**  
   Синтаксис Lisp и макросы позволяют строить eDSL (embedded DSL) и решать задачи метапрограммирования. Это особенно ценно для ЛР-4.  

4. **Интеграция с JVM**  
   Использование экосистемы Java делает Clojure не только «академическим» языком, но и прикладным.  

5. **Сообщество и документация**  
   Активное сообщество и наличие книг («Clojure for the Brave and True», «Programming Clojure», «The Joy of Clojure») упрощают обучение.  

---

## 3. План на лабораторную работу №4

В рамках лабораторной работы №4 будет разработан **eDSL (embedded Domain Specific Language) для конечных автоматов**.  

### Основная идея  
Создать специализированный язык описания конечных автоматов, который позволит в декларативной форме задавать:  
- множество состояний,  
- начальное состояние,  
- набор возможных переходов,  
- явно указанные невозможные или игнорируемые переходы.  

### Функциональные возможности  
1. **Описание автомата**  
   eDSL должен позволять удобно задавать автомат как набор состояний и правил перехода. При этом язык будет ориентирован на «читаемость» и простоту, чтобы описание модели напоминало декларацию правил, а не императивный код.  

2. **Запуск и симуляция**  
   На основе описания пользователь сможет запускать автомат, подавая ему последовательность событий. В результате будет видно, как меняются состояния по мере обработки входных данных.  

3. **Обработка ошибок и невозможных переходов**  
   В eDSL должны быть явно предусмотрены ситуации, когда переход невозможен. Пользователь сможет указывать такие случаи как «игнорируемые» (состояние не меняется) либо как ошибки (автомат сигнализирует о некорректном вводе).  

4. **Генерация `.dot` файлов для Graphviz**  
   Одной из ключевых частей задания будет преобразование описанного автомата в формат `.dot`, используемый в Graphviz. Это позволит визуализировать все состояния и переходы на диаграмме. Таким образом, пользователь сможет не только запускать автомат, но и видеть его структуру в графическом виде.  

5. **Пример модели**  
   Для демонстрации будет реализован автомат, моделирующий работу светофора с кнопкой пешехода. В нём будут учтены:  
   - последовательная смена сигналов по таймеру,  
   - поведение при нажатии пешеходной кнопки,  
   - невозможные или игнорируемые переходы (например, нажатие кнопки во время зелёного сигнала).  

### Результаты выполнения  
- Разработанный DSL, позволяющий описывать конечные автоматы.  
- Интерпретатор, выполняющий запуск и симуляцию работы автомата.  
- Генератор `.dot` файлов для наглядной визуализации.  
- Готовая модель «светофор», демонстрирующая работу языка.  

Таким образом, ЛР-4 будет направлена на изучение возможностей Clojure по метапрограммированию и работе с DSL, а также на применение функциональных структур данных и неизменяемости в реализации автоматов.  

---

## 4. Инструментальные средства

| Компонент               | Инструмент |
|--------------------------|------------|
| Система сборки           | Leiningen (`project.clj`) или Clojure CLI + `deps.edn` |
| REPL / запуск            | `lein repl`, `clojure` |
| Форматирование           | `cljfmt` |
| Статический анализатор   | `Eastwood`, `kibit` |
| Тестирование             | `clojure.test`, `midje` (опционально) |
| Стиль кодирования        | [Clojure Style Guide](https://github.com/bbatsov/clojure-style-guide) |

---

## 5. Литература / источники

- Daniel Higginbotham — *Clojure for the Brave and True*  
- Fogus, Chouser — *The Joy of Clojure*  
- Stuart Halloway — *Programming Clojure*  
- Официальная документация: [https://clojure.org](https://clojure.org)  
- [Clojure Style Guide](https://github.com/bbatsov/clojure-style-guide)  



