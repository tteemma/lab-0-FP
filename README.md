# Лабораторная работа 0
### Выполнил: Мироненко Артём P3331  

Для выполнения лабораторных работ по дисциплине *«Функциональное программирование»* я остановился на языке **Erlang**. Основной причиной выбора стало то, что он изначально создавался для разработки надежных распределённых систем, и многие его особенности «из коробки» хорошо демонстрируют идеи функционального программирования в прикладном контексте.  

Я сознательно не выбрал языки с мощной системой типов (Haskell, Agda), так как хотел сосредоточиться именно на парадигме ФП и на том, как она применяется в реальных системах. Erlang кажется хорошим балансом между теорией и практикой.  

---

### Особенности Erlang, которые показались важными
1. **Акторная модель** ― процессы изолированы, обмен данными идёт через сообщения, а значит не нужно явно управлять потоками и блокировками.  
2. **Fault tolerance (устойчивость к ошибкам)** ― механизм супервизоров позволяет строить систему по принципу «пусть падает», и при этом сохранять её работоспособность.  
3. **Горячая замена кода** ― возможность обновлять модули без остановки всей системы. Для распределённых приложений это особенно ценно.  
4. **Доказанная практичность** ― многие телеком-и мессенджер-системы (например, WhatsApp) построены на Erlang и работают с огромной нагрузкой.  

---

### Лабораторная работа №4
В рамках лабораторной работы №4 была разработана и исследована система централизованного журналирования работы распределённой системы на Erlang/OTP.
Система состоит из нескольких Erlang-узлов, каждый из которых запускает пул воркеров. Воркеры реализованы как процессы с поведением GenServer и выполняют имитацию вычислений: вычисление факториала, числа Фибоначчи, задачи со случайными задержками и задачи, которые могут завершаться ошибкой. Это позволяет протестировать корректность логирования как для нормальных сценариев работы, так и для ситуаций с ошибками.
Все события, происходящие на стороне воркеров (начало работы, успешное завершение, ошибка), формируются в виде сообщений фиксированного формата и передаются в централизованный логгер. Логгер также реализован на основе GenServer и отвечает за приём сообщений от всех узлов кластера, сохранение их во внутреннюю базу данных (ETS-таблицу) и периодический сброс логов в файл в формате JSON Lines. Такой подход обеспечивает удобство как оперативного доступа к данным внутри системы, так и последующего анализа логов в сторонних инструментах.
Для обеспечения отказоустойчивости применён механизм супервизоров. Воркеры объединены под супервизором workers_sup (стратегия one_for_one), что позволяет автоматически перезапускать процессы при их падении. Аналогично, логгер и его вспомогательные компоненты управляются супервизором logger_sup. Таким образом, реализована ключевая философия Erlang — “let it crash”: система допускает ошибки отдельных процессов, но остаётся работоспособной в целом.
Кроме того, работа продемонстрировала особенности распределённости Erlang/OTP. Узлы кластера запускаются с общим cookie и могут взаимодействовать друг с другом через стандартный механизм межпроцессных сообщений. Это позволяет воркерам на разных узлах прозрачно отправлять события в централизованный логгер, находящийся на одном из узлов, без дополнительных библиотек или протоколов.
Результаты работы системы представлены в лог-файлах. Каждая запись содержит временную метку (в формате ISO-8601 UTC), имя узла, идентификатор воркера, тип события (start, finish, error) и набор метаданных (например, входные данные задачи, результат вычисления или описание ошибки).

---

## Таблица инструментальных средств

| Категория                          | Инструмент                                   |
|-----------------------------------|----------------------------------------------|
| Компилятор/интерпретатор           | Erlang/OTP (версия 28.0.2)                   |
| Система сборки                     | rebar3                                       |
| Стиль кодирования                  | [Erlang Style Guide](https://github.com/nuex/erlang-style-guide) |
| Автоформатирование                 | erlfmt                                       |
| Анализ и линтинг                   | dialyzer, elvis                              |
| Инструменты тестирования           | EUnit, Common Test, PropEr                   |

---

### Литература и источники
- Joe Armstrong – *Programming Erlang, 2nd edition*  
- [Официальная документация Erlang](https://www.erlang.org/docs)  
- Статья «Erlang — The Movie» (история и обзор особенностей языка)  
- Блог [Learn You Some Erlang](https://learnyousomeerlang.com/)  

---
